# ========================================
# Source Code Analysis Tool - Configuration Template
# ========================================
#
# Copy this file to create environment-specific configs:
#   cp .env.example .env.local          # For local development (npm run dev)
#   cp .env.example .env.docker         # For Docker Compose
#   cp .env.example .env.production     # For production deployment
#
# IMPORTANT: Never commit actual .env files to Git!
# ========================================

# ========================================
# FRONTEND CONFIGURATION (Next.js)
# ========================================

# Backend API URL
# - Local Dev: http://localhost:8000
# - Docker: http://localhost:8359
# - Production: https://your-backend-domain.com
NEXT_PUBLIC_API_URL=http://localhost:8000

# Supabase Configuration
# Get these from: https://supabase.com/dashboard/project/<project-id>/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here

# ========================================
# BACKEND CONFIGURATION (FastAPI)
# ========================================

# Configuration Switches
ENABLE_LANGFUSE=false
DATABASE_PROVIDER=supabase  # Options: supabase, postgres

# Supabase Database (Primary)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your_service_role_key_here
SUPABASE_ANON_KEY=your_anon_key_here

# PostgreSQL Database (Alternative)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=source_code_analysis
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Redis Caching
REDIS_URL=redis://localhost:6379
REDIS_TTL_DEFAULT=1800
REDIS_MAX_CONNECTIONS=10

# OpenAI Integration
OPENAI_API_KEY=sk-your_openai_key_here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Langfuse Observability (Optional)
LANGFUSE_PUBLIC_KEY=pk-lf-your_public_key
LANGFUSE_SECRET_KEY=sk-lf-your_secret_key
LANGFUSE_HOST=https://cloud.langfuse.com

# ========================================
# RAG PIPELINE CONFIGURATION
# ========================================

# Pipeline Type (git, local, google_drive)
RAG_PIPELINE_TYPE=git

# Run Mode (continuous, single)
RUN_MODE=continuous

# Polling Interval (seconds)
RAG_POLL_INTERVAL=60

# Embedding Configuration
EMBEDDING_API_KEY=sk-your_openai_key_here
EMBEDDING_MODEL_CHOICE=text-embedding-3-small

# Google Drive Integration (Optional)
# GOOGLE_DRIVE_CREDENTIALS_JSON={"type":"service_account",...}
# RAG_WATCH_FOLDER_ID=your_folder_id

# ========================================
# DOCKER COMPOSE CONFIGURATION
# ========================================

# Container Names
COMPOSE_PROJECT_NAME=source-code-analysis

# Port Mappings
FRONTEND_PORT=3509
BACKEND_PORT=8359
POSTGRES_PORT=5432
REDIS_PORT=6379
